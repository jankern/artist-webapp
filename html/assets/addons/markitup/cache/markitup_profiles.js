function markitupInit() {
  $('.markitupEditor-markdown_full').not('.markitupActive').markItUp({
    nameSpace: "markitup_markdown",
    markupSet: [
      {  name:'Fett',
  key:'B',
  openWith:'**',
  closeWith:'**',
  className:'bold',
},{  name:'Code',
  openWith:'```',
  closeWith:'```',
  className:'code',
},{  name:'Textsnippets',
  className:'clips',
  dropMenu: [{  name:'Snippetname1',  openWith:'Snippettext1',},{  name:'Snippetname2',  openWith:'Snippettext2',},  ]},{  name:'Durchgestrichen',
  key:'S',
  openWith:'~~',
  closeWith:'~~',
  className:'deleted',
},{  name:'E-Mail Link',
  className:'emaillink',
  replaceWith:function(h) {return btnMarkdownLinkMailtoCallback(h);},
},{  name:'Externer Link',
  className:'externallink',
  replaceWith:function(h) {return btnMarkdownLinkExternalCallback(h);},
},{  name:'Überschrift',
  className:'groupheading',
  dropMenu: [{  name:'Überschrift 1',
  openWith:'\n\n#',
  closeWith:'\n\n',
},{  name:'Überschrift 2',
  openWith:'\n\n##',
  closeWith:'\n\n',
},{  name:'Überschrift 3',
  openWith:'\n\n###',
  closeWith:'\n\n',
},{  name:'Überschrift 4',
  openWith:'\n\n####',
  closeWith:'\n\n',
},{  name:'Überschrift 5',
  openWith:'\n\n#####',
  closeWith:'\n\n',
},{  name:'Überschrift 6',
  openWith:'\n\n######',
  closeWith:'\n\n',
},  ]},{  name:'Link',
  className:'grouplink',
  dropMenu: [{  name:'Datei',
  replaceWith:function(h) {return btnMarkdownLinkMediaCallback(h);},
},{  name:'Intern',
  replaceWith:function(h) {return btnMarkdownLinkInternalCallback(h);},
},{  name:'Extern',
  replaceWith:function(h) {return btnMarkdownLinkExternalCallback(h);},
},{  name:'E-Mail',
  replaceWith:function(h) {return btnMarkdownLinkMailtoCallback(h);},
},  ]},{  name:'Überschrift 1',
  openWith:'\n\n# ',
  closeWith:'\n\n',
  className:'heading1',
},{  name:'Überschrift 2',
  openWith:'\n\n## ',
  closeWith:'\n\n',
  className:'heading2',
},{  name:'Überschrift 3',
  openWith:'\n\n### ',
  closeWith:'\n\n',
  className:'heading3',
},{  name:'Überschrift 4',
  openWith:'\n\n#### ',
  closeWith:'\n\n',
  className:'heading4',
},{  name:'Überschrift 5',
  openWith:'\n\n##### ',
  closeWith:'\n\n',
  className:'heading5',
},{  name:'Überschrift 6',
  openWith:'\n\n###### ',
  closeWith:'\n\n',
  className:'heading6',
},{  name:'Interner Link',
  className:'internallink',
  replaceWith:function(h) {return btnMarkdownLinkInternalCallback(h);},
},{  name:'Kursiv',
  key:'I',
  openWith:'*',
  closeWith:'*',
  className:'italic',
},{  name:'Media',
  className:'media',
  replaceWith:function(h) {return btnMarkdownMediaCallback(h);},
},{  name:'Datei Link',
  className:'medialink',
  replaceWith:function(h) {return btnMarkdownLinkMediaCallback(h);},
},{  name:'Sortierte Liste',
  className:'orderedlist',
  replaceWith:function(h) {return btnMarkdownOrderedlistCallback(h);},
},{  name:'Paragraph',
  openWith:'\n\n',
  className:'paragraph',
},{  name:'Zitat',
  openWith:'> ',
  className:'quote',
},{  name:'Tiefgestellt',
  openWith:'~',
  closeWith:'~',
  className:'sub',
},{  name:'Hochgestellt',
  openWith:'^',
  closeWith:'^',
  className:'sup',
},{  name:'Tabelle',
  className:'table',
  replaceWith:function(h) {return btnMarkdownTableCallback(h);},
},{  name:'Unterstrichen',
  key:'U',
  openWith:'__',
  closeWith:'__',
  className:'underline',
},{  name:'Unsortierte Liste',
  className:'unorderedlist',
  replaceWith:function(h) {return btnMarkdownUnorderedlistCallback(h);},
},
    ]
  }).addClass('markitupActive');
  $('.markitupEditor-textile_full').not('.markitupActive').markItUp({
    nameSpace: "markitup_textile",
    onShiftEnter: {keepDefault:false, replaceWith:'\n\n'},
    markupSet: [
      {  name:'Überschrift 1',
  openWith:'\n\nh1. ',
  closeWith:'\n\n',
  className:'heading1',
},{  name:'Überschrift 2',
  openWith:'\n\nh2. ',
  closeWith:'\n\n',
  className:'heading2',
},{  name:'Überschrift 3',
  openWith:'\n\nh3. ',
  closeWith:'\n\n',
  className:'heading3',
},{  name:'Fett',
  key:'B',
  openWith:'*',
  closeWith:'*',
  className:'bold',
},{  name:'Kursiv',
  key:'I',
  openWith:'_',
  closeWith:'_',
  className:'italic',
},{  name:'Zitat',
  openWith:'bq. ',
  className:'quote',
},{  name:'Unsortierte Liste',
  className:'unorderedlist',
  replaceWith:function(h) {return btnTextileUnorderedlistCallback(h);},
},{  name:'Sortierte Liste',
  className:'orderedlist',
  replaceWith:function(h) {return btnTextileOrderedlistCallback(h);},
},{  name:'Tiefgestellt',
  openWith:'~',
  closeWith:'~',
  className:'sub',
},{  name:'Hochgestellt',
  openWith:'^',
  closeWith:'^',
  className:'sup',
},{  name:'Tabelle',
  className:'table',
  replaceWith:function(h) {return btnTextileTableCallback(h);},
},{  name:'Link',
  className:'grouplink',
  dropMenu: [{  name:'Datei',
  replaceWith:function(h) {return btnTextileLinkMediaCallback(h);},
},{  name:'Intern',
  replaceWith:function(h) {return btnTextileLinkInternalCallback(h);},
},{  name:'Extern',
  replaceWith:function(h) {return btnTextileLinkExternalCallback(h);},
},{  name:'E-Mail',
  replaceWith:function(h) {return btnTextileLinkMailtoCallback(h);},
},  ]},
    ]
  }).addClass('markitupActive');
}
$(document).on('ready pjax:success',function() {
  markitupInit();
  autosize($("textarea[class*='markitupEditor-']"));
});